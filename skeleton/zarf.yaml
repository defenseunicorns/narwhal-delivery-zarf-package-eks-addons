kind: ZarfPackageConfig
metadata:
  name: addons-models
  version: 0.0.1
  description: >
    Set of models for addons
components:
  - name: helm-chart-model
    required: true
    charts:
      - name: "###ZARF_PKG_TMPL_PACKAGE_NAME###"
        namespace: "###ZARF_PKG_TMPL_NAMESPACE###"
        url: "###ZARF_PKG_TMPL_CHART_REPO###"
        version: "###ZARF_PKG_TMPL_CHART_VERSION###"
        valuesFiles:
          - "###ZARF_PKG_TMPL_VALUES_FILE_1###"
    actions:
      onDeploy:
        before:
           # either set this here or in zarf-config.yaml under deploy.set.image_version,
           # but alternatively/ideally? just provide a values file at package deploy time (above with ZARF_PKG_TMPL_VALUES_FILE)
           # and use the values you want inside it instead of templating values.yaml with vars
           - cmd: "echo ###ZARF_PKG_TMPL_IMAGE_VERSION###"
             setVariables:
               - name: IMAGE_VERSION
    images:
      - "###ZARF_PKG_TMPL_IMAGE_REPO###:###ZARF_PKG_TMPL_IMAGE_VERSION###"